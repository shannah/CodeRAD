<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_232) on Thu Apr 15 06:37:48 PDT 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Overview (coderad-common 1.0.2-SNAPSHOT API)</title>
<meta name="date" content="2021-04-15">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (coderad-common 1.0.2-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">coderad-common 1.0.2-SNAPSHOT API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">CodeRAD</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="ca/weblite/shared/components/package-summary.html">ca.weblite.shared.components</a></td>
<td class="colLast">
<div class="block">This package contains foundation components that are used by views in CodeRAD.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="ca/weblite/shared/components/table/package-summary.html">ca.weblite.shared.components.table</a></td>
<td class="colLast">
<div class="block">This package contains a Table component similar to swing&#8217;s JTable and associated renderer and editor classes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="ca/weblite/shared/event/package-summary.html">ca.weblite.shared.event</a></td>
<td class="colLast">
<div class="block">This package contains some event utility classes that aren&#8217;t part of CodeRAD proper, but may be useful to some apps.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/ext/ui/package-summary.html">com.codename1.ext.ui</a></td>
<td class="colLast">
<div class="block">This package contains some useful utility classes related to UI.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/codename1/rad/attributes/package-summary.html">com.codename1.rad.attributes</a></td>
<td class="colLast">
<div class="block">This package contains <code>Attribute</code> classes for use in UI descriptors.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/rad/controllers/package-summary.html">com.codename1.rad.controllers</a></td>
<td class="colLast">
<div class="block">This package contains controllers for CodeRAD applications.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/codename1/rad/events/package-summary.html">com.codename1.rad.events</a></td>
<td class="colLast">
<div class="block">This package contains utility classes for CodeRAD events.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/rad/io/package-summary.html">com.codename1.rad.io</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/codename1/rad/layouts/package-summary.html">com.codename1.rad.layouts</a></td>
<td class="colLast">
<div class="block">This package contains layout managers used in CodeRAD views.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/rad/models/package-summary.html">com.codename1.rad.models</a></td>
<td class="colLast">
<div class="block">This package contains classes for CodeRAD models, such as <code>Entity</code>, <code>Property</code>, and <code>Tag</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/codename1/rad/nodes/package-summary.html">com.codename1.rad.nodes</a></td>
<td class="colLast">
<div class="block">This package contains <code>Node</code> classes for use inside UI descriptors.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/rad/processing/package-summary.html">com.codename1.rad.processing</a></td>
<td class="colLast">
<div class="block">&lt;h1&gt;XPath based expression language designed to assist in JSON/XML parsing/generating&lt;/h1&gt;
       &lt;p&gt;
           The <a href="https://www.codenameone.com/javadoc/com/codename1/processing/Result.html?is-external=true" title="class or interface in com.codename1.processing"><code>Result</code></a> class provides a subset of
           &lt;a href="http://www.w3schools.com/xsl/xpath_intro.asp"&gt;XPath&lt;/a&gt;, but it is not limited to just XML
           documents, it can also work with JSON documents, and even with raw <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/codename1/rad/propertyviews/package-summary.html">com.codename1.rad.propertyviews</a></td>
<td class="colLast">
<div class="block">This package contains property views, which are used to bind UI components with model properties.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/rad/schemas/package-summary.html">com.codename1.rad.schemas</a></td>
<td class="colLast">
<div class="block">This package contains schemas (adapted from <a href="https://schema.org" class="bare">https://schema.org</a>) which can be used to promote loose-coupling between CodeRAD components.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/codename1/rad/text/package-summary.html">com.codename1.rad.text</a></td>
<td class="colLast">
<div class="block">This package contains text processing utilities such as date formatters and number formatters, which are used by CodeRAD for data conversion of properties.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/rad/ui/package-summary.html">com.codename1.rad.ui</a></td>
<td class="colLast">
<div class="block">This package contains the foundation classes for CodeRAD views.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/codename1/rad/ui/animations/package-summary.html">com.codename1.rad.ui.animations</a></td>
<td class="colLast">
<div class="block">This package contains animations that are used in CodeRAD views.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/rad/ui/decorators/package-summary.html">com.codename1.rad.ui.decorators</a></td>
<td class="colLast">
<div class="block">This package contains decorator classes which can be used to "decorate" Nodes so that they serve a particular purpose.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/codename1/rad/ui/entityviews/package-summary.html">com.codename1.rad.ui.entityviews</a></td>
<td class="colLast">
<div class="block">This package contains entity views - view components that are bound to an Entity value model.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/rad/ui/image/package-summary.html">com.codename1.rad.ui.image</a></td>
<td class="colLast">
<div class="block">This class contains subclasses of AsyncImage</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/codename1/rad/ui/menus/package-summary.html">com.codename1.rad.ui.menus</a></td>
<td class="colLast">
<div class="block">This class contains menu components that can be bound to Actions and Action lists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/codename1/rad/ui/table/package-summary.html">com.codename1.rad.ui.table</a></td>
<td class="colLast">
<div class="block">This package contains bindable implementations of the classes in the <a href="ca/weblite/shared/components/table/package-summary.html"><code>ca.weblite.shared.components.table</code></a> package.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block"><h1>CodeRAD</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#the-problem-why-do-we-need-coderad">The Problem (Why do we need CodeRAD?)</a></li>
<li><a href="#how-coderad-solves-this-problem">How CodeRAD Solves this Problem</a></li>
</ul>
</li>
<li><a href="#fundamental-concepts">Fundamental Concepts</a>
<ul class="sectlevel2">
<li><a href="#entities-properties-schemas-and-tags">Entities, Properties, Schemas and Tags</a></li>
<li><a href="#views">Views</a></li>
<li><a href="#controllers-and-actions">Controllers and Actions</a></li>
<li><a href="#ui-descriptors-nodes-and-attributes">UI Descriptors (Nodes and Attributes)</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="introduction">Introduction</h2>
<div class="sectionbody">
<p>The CodeRAD project was conceived as a way to make it easier to create richer reusable components for Codename One, and thus enabling more rapid development.  The goal is to provide an exhaustive set of off-the-shelf user interface components that can be easily assembled into professional-looking mobile applications without the need for extensive UI development or design.  Version 1.0 includes a small set of components that were developed as proofs of concept, but we will be adding more components as we go along.</p>
<p>The following is a sample of a few components that have been developed with CodeRAD, and can be used in your Codename One application today:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://github.com/shannah/RADChatRoom">RADChatRoom, window=_top</a> - A full-featured messaging application UI that can be used to add "Chat" capability to your app.</p>
<div class="imageblock">
<div class="content">
<img src="https://shannah.github.io/RADChatApp/images/Image-210220-105119.095.png" alt="RADChatRoom" width="240">
</div>
</div>
</li>
<li>
<p><a href="com/codename1/rad/ui/entityviews/ProfileAvatarView.html" title="class in com.codename1.rad.ui.entityviews"><code>ProfileAvatarView</code></a> - Shows an entity&#8217;s thumbnail image inside a round mask.</p>
<div class="imageblock">
<div class="content">
<img src="com/codename1/rad/ui/entityviews/doc-files/ProfileAvatarView.png" alt="ProfileAvatarView" width="240">
</div>
</div>
</li>
<li>
<p><a href="com/codename1/rad/ui/entityviews/ProfileAvatarsTitleComponent.html" title="class in com.codename1.rad.ui.entityviews"><code>ProfileAvatarsTitleComponent</code></a> - A component that displays a number of <a href="com/codename1/rad/ui/entityviews/ProfileAvatarView.html" title="class in com.codename1.rad.ui.entityviews"><code>ProfileAvatarView</code></a>s in a "fan" layout (i.e. like BoxLayout.X_AXIS, except that it will "fan them out" with overlap if there isn&#8217;t enough space for everything).  This is used as the form&#8217;s title component for the <a href="https://github.com/shannah/RADChatRoom">RADChatRoom</a> component.</p>
<div class="imageblock">
<div class="content">
<img src="https://shannah.github.io/RADChatApp/images/Image-210220-020916.612.png" alt="ProvileAvatarsTitleComponent">
</div>
</div>
</li>
<li>
<p><a href="com/codename1/rad/ui/entityviews/ProfileListView.html" title="class in com.codename1.rad.ui.entityviews"><code>ProfileListView</code></a> - Displays a list of profile entities with avatar, name, and a customizable set of actions that can be performed for each one.</p>
<div class="imageblock">
<div class="content">
<img src="https://shannah.github.io/RADChatApp/images/Image-220220-084136.625.png" alt="ProfileListView" width="320">
</div>
</div>
</li>
</ol>
</div>
<p>See the <a href="com/codename1/rad/ui/entityviews/package-summary.html"><code>com.codename1.rad.ui.entityviews</code></a> package for a list of available components, although this list wouldn&#8217;t include 3rd-party components that use CodeRAD as a dependency (e.g. <a href="https://github.com/shannah/RADChatRoom">RADChatRoom, window=_top</a>).</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<p><strong>What makes these components different than the core Codename One components?</strong></p>
<p>These components use CodeRAD&#8217;s loose-coupling which allows you to use them with a variety of view models. Changing the view that you use to render your model is often a matter changing a single line of code since you can reuse the same model between them.</p>
<p>Read the rest of this overview to learn more about CodeRAD, and how it will change how you develop Codename One applications.</p>
</td>
</tr>
</table>
</div>
<h3 id="the-problem-why-do-we-need-coderad">The Problem (Why do we need CodeRAD?)</h3>
<p>Codename One provides a comprehensive set of UI components (e.g. buttons, text fields, select lists) that can be composed together to create rich, mobile user interfaces.  However, it requires a great deal of skill to stitch these components together in a way that results in a rich user experience.  In addition to familiarity with the available components, developers must posess a solid understanding of core concepts like layout managers, events, component life-cycles, animation managers, transitions, and styles, as well as a myriad of component settings to make them behave just so, for the context at hand.</p>
<p>Codename One provides a number of tools to assist developers in their UI development, including GUI builders, CSS support, themes, samples, and project templates, but creating a polished user interface still requires a lot of time and focus to get things"just right".  Most software developers aren&#8217;t designers.  We&#8217;d prefer to start with a nice design, and just "plug it in" to our application models.</p>
<h3 id="how-coderad-solves-this-problem">How CodeRAD Solves this Problem</h3>
<p>CodeRAD employs the MVC (Model-View-Controller) design pattern in a unique flavour which is tailored specifically for Codename One applications.  It provides a method of loose coupling that allows view classes, model classes, and controller classes to be written without any explicit dependencies on each other, which allows each to be reused across multiple applications, and shared with other developers.  View components can be bound at runtime with any model component that meets the view&#8217;s requirements to provide a rich user experience out of the box.</p>
<p>Rather than tinker with low-level widgets, layouts, and styles, the developer just plugs values into the "view model", and changes are bound directly to the view.  As you&#8217;ll see, views are extremely versatile and extensible, while not requiring any direct, low-level UI component manipulation.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<p>As a first proof of concept, we&#8217;ve developed <code>ChatRoomView</code>, a rich user interface component for developing a messaging application.</p>
<div class="imageblock">
<div class="content">
<img src="https://shannah.github.io/RADChatApp/images/Image-210220-105119.095.png" alt="ChatRoomView" width="320">
</div>
<div class="title">Figure 1. The <code>ChatRoomView</code> component is the first in a new breed of rich UI components built on CodeRAD</div>
</div>
<p>Try out the <a href="https://shannah.github.io/RADChatApp/demo/">demo application</a> right in your browser.</p>
<p>Read the <a href="https://shannah.github.io/RADChatApp/getting-started-tutorial.html">getting started tutorial</a> to see how easy it is to incorporate this component into your application.</p>
</td>
</tr>
</table>
</div>
</div>
<h2 id="fundamental-concepts">Fundamental Concepts</h2>
<div class="sectionbody">
<p>There are just a few fundamental concepts required to start using CodeRAD to accelerate your development.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC (Model-View-Controller)</a> - A design pattern employed by CodeRAD which is used for developing user interfaces which divides the related program logic into three interconnected elements</p>
<div class="imageblock">
<div class="content">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/MVC-Process.svg/200px-MVC-Process.svg.png" alt="200px MVC Process.svg">
</div>
</div>
</li>
<li>
<p><strong>Entities</strong> - CodeRAD introduces <code>Entity</code>, a base class for "model" classes.  This includes all the required plumbing for developing reusable components, such as property binding, property change events, data conversion, property lookup, etc&#8230;&#8203;</p>
</li>
<li>
<p><strong>Properties</strong> - Properties are the analog of instance variables for entities.  They include built-in support for binding, change events, and data-conversion.</p>
</li>
<li>
<p><strong>Tags</strong> - Tags enable loose-coupling of components.  Properties may contain one or more "tags" which can be used as a more generic way to reference properties on an entity.</p>
</li>
<li>
<p><strong>Views</strong> - A View is a user interface component that renders a model in a specific way.</p>
</li>
<li>
<p><strong>Controllers</strong> - Controllers define the structure and flow of an application.  All user interaction is handled by the controller.  Your application&#8217;s main class will be an instance of <code>ApplicationController</code>.  Each form can have an associated <code>FormController</code>.  In some cases you may associate a <code>ViewController</code> with other UI components also.</p>
</li>
<li>
<p><strong>Actions</strong> - Actions provide a means of extending the functionality of a view.  Each view will publish a list of action categories that it supports.  The controller may then register actions in these categories to embed buttons, menus, and functionality into the view.</p>
</li>
<li>
<p><strong>UI Descriptors</strong> - CodeRAD introduces a pure java declarative syntax for describing complex user interfaces.  A UI descriptor is a tree where each node is an instance of the <code>Node</code> class, and the root node is one of <code>FormNode</code>, <code>ViewNode</code>, or <code>ListNode</code>, depending on whether the UI is a form, a list, or a view.</p>
</li>
</ol>
</div>
<h3 id="entities-properties-schemas-and-tags">Entities, Properties, Schemas and Tags</h3>
<p>The <strong>Entity</strong> sits at the core of CodeRAD.  The <a href="com/codename1/rad/models/Entity.html" title="class in com.codename1.rad.models"><code>Entity</code></a> class is the base class of all model classes in CodeRAD.  Each <a href="com/codename1/rad/models/Entity.html" title="class in com.codename1.rad.models"><code>Entity</code></a> has an <a href="com/codename1/rad/models/EntityType.html" title="class in com.codename1.rad.models"><code>EntityType</code></a> which defines the properties that are available in an entity.  Properties, in turn, may be "tagged" with zero or more <a href="com/codename1/rad/models/Tag.html" title="class in com.codename1.rad.models"><code>Tag</code></a>s.  These tags can be used to lookup properties on an entity in a more generic way than referring to the property itself.</p>
<p>We provide a set of existing tags in the <a href="com/codename1/rad/schemas/package-summary.html"><code>com.codename1.rad.schemas</code></a> package that can be used as a common foundation by both models and views.  These tags were adapted from the schema definitions at <a href="https://schema.org" class="bare">https://schema.org</a>.</p>
<div class="exampleblock">
<div class="content">
<p><a href="https://schema.org" class="bare">https://schema.org</a> provides a large set of schemas for common data types that one might need in an application.  It provides a base schema, <a href="https://schema.org/Thing">Thing</a> that includes properties that may be common to any type of "thing", such as <code>name</code>, <code>description</code>, <code>identifier</code>, <code>image</code> etc..  This schema has been ported into Java as the <a href="com/codename1/rad/schemas/Thing.html" title="interface in com.codename1.rad.schemas"><code>Thing</code></a> interface.</p>
<p>Each property has a corresponding <a href="com/codename1/rad/models/Tag.html" title="class in com.codename1.rad.models"><code>Tag</code></a> defined.</p>
</div>
</div>
<p>The concept of tags is a simple one, but they have powerful effect.  If a view needs to render its model&#8217;s "phone number" (e.g. a contact list view), then it doesn&#8217;t need to know anything about the properties in the model.  It is able to look up the phone number of the model by the <code>Person.telephone</code> tag:</p>
<div class="listingblock java">
<div class="content">
<pre class="CodeRay highlight"><code>String telephone = model.getText(Person.telephone);</code></pre>
</div>
</div>
<p>As long as the model includes a property that is tagged with the <code>Person.telephone</code> tag, this will work.  If the model doesn&#8217;t include this property, then this will simply return null.</p>
<p>You can check if the model&#8217;s entity type contains such a property using:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Property telephoneProp = model.getEntityType().findProperty(Person.telephone);</code></pre>
</div>
</div>
<p>This will be <code>null</code> if there is no such property.</p>
<p>This simple trick allows us to completely decouple components from each other.  As long as they can agree on a common set of "Tags", they&#8217;ll be able to bind to each other seamlessly.</p>
<p>The following diagram depicts how Tags can be used as a sort of "glue" layer between the View and the Model, and Action categories (discussed later under "Controllers") as a glue lasyer between the View and the Controller.</p>
<div class="imageblock">
<div class="content">
<img src="doc-files/Entity-Property-Tag-MVC.png" alt="Entity Property Tag MVC">
</div>
<div class="title">Figure 2. Tags are used to bind views to the appropriate properties of their view model using loose coupling.  Action categories are used to bind views to their controllers using loose coupling.</div>
</div>
<h4 id="example-entity-class">Example Entity Class</h4>
<p>The following figure shows the definition of a very simple entity class:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">UserProfile</span> <span class="directive">extends</span> <span class="predefined-type">Entity</span> {
   <span class="directive">public</span> <span class="directive">static</span> StringProperty name, description; <b class="conum">(1)</b>
   <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> EntityType TYPE = <span class="keyword">new</span> EntityType(){{ <b class="conum">(2)</b>
       name = string(); <b class="conum">(3)</b>
       description = string();
   }};
   {
       setEntityType(TYPE); <b class="conum">(4)</b>
   }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>We define 2 properties of type <a href="com/codename1/rad/models/StringProperty.html" title="class in com.codename1.rad.models"><code>StringProperty</code></a> on the class.  A <code>StringProperty</code> is simply a property that contains a <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code>String</code></a>.  These are defined <code>public static</code> so that we can access them conveniently from anywhere.</p>
</li>
<li>
<p>We define an <a href="com/codename1/rad/models/EntityType.html" title="class in com.codename1.rad.models"><code>EntityType</code></a> for the class.  This is also <code>public static</code> because it is class-level (all objects of this class should share the same entity type).</p>
</li>
<li>
<p>We create <code>name</code> and <code>description</code> properties on this entity type.  Notice that this code runs in the <strong>instance intializer</strong> of the EntityType (the <code>{{</code> and <code>}}</code> braces are not a typo).  Running this code inside the instance initializer will ensure that the properties are added to the `EntityType&#8217;s property index.</p>
</li>
<li>
<p>Inside the <code>UserProfile</code> instance initializer, we set the entity type to the entity type that we created above.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<p><strong>Why can&#8217;t we just use POJOs for our models?</strong></p>
<p>The <a href="com/codename1/rad/models/Entity.html" title="class in com.codename1.rad.models"><code>Entity</code></a> class provides a lot of useful plumbing that is necessary for building reusable components that can bind to each other.  This includes property lookup, property binding, change events, and data conversion.</p>
</td>
</tr>
</table>
</div>
<h4 id="adding-tags-to-properties">Adding Tags to Properties</h4>
<p>In the above entity class, we haven&#8217;t "tagged" any of the properties so it can&#8217;t be used as a view model for any view, unless that view has been specifically designed for this class, which would limit its reusability.  This is simple to remedy, though. Let&#8217;s tag the <code>name</code> property with <a href="com/codename1/rad/schemas/Thing.html#name"><code>Thing.name</code></a>, and <code>description</code> with <a href="com/codename1/rad/schemas/Thing.html#description"><code>Thing.description</code></a>:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">name = string(tags(Thing.name));
description = string(tags(Thing.description));</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<p>Properties can contain multiple tags.  E.g. If we want the name field to also be treated as the "ID" field, we could do:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">name = string(tags(Thing.name, Thing.identifier));</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<h4 id="accessing-property-values">Accessing Property Values</h4>
<p>We can access a property value using its property directly.  E.g.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> name = model.get(UserProfile.name);</code></pre>
</div>
</div>
<p>Notice here we didn&#8217;t need to cast the return value to "String" because the <code>Profile.name</code> property is declared as a string property.</p>
<p>We can also access the "name" property using the <code>Thing.name</code> tag, which is what allows us to use this as a loosely coupled view model:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> name = (<span class="predefined-type">String</span>)model.get(Thing.name);</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<p>When using tags to access properties, it is best to use one of the <code>getXXX(Tag)</code> variants that explicitly converts the content type.  E.g. <code>com.codename1.rad.models.Entity#getText(com.codename1.rad.models.Tag)</code>.  This is because there is no guarantee that a given entity is storing its <code>Thing.name</code> property as a String.  It could use any type of property.  Using <code>getText()</code> or <code>getBoolean()</code> will automatically handle data-conversion if possible.</p>
<p>See <a href="com/codename1/rad/models/ContentType.html" title="class in com.codename1.rad.models"><code>ContentType</code></a> for more information about data conversion in properties.</p>
</td>
</tr>
</table>
</div>
<p>Using the convenience wrapper <code>getText()</code> and <code>setText()</code> we can then set the values on the <code>name</code> property in a generic way:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">model.setText(Thing.name, <span class="string"><span class="delimiter">&quot;</span><span class="content">Steve</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">String</span> name = model.getText(Thing.name); <span class="comment">// &quot;Steve&quot;</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<p>Technically, you don&#8217;t need to provide direct property access to your entity properties at all.  In our above <code>UserProfile</code> class we retained explicit references to the <code>name</code> and <code>description</code> properties, but we could have simply omitted this.  I.e. The following is also a perfectly valid entity type definition:</p>
<div class="listingblock">
<div class="title">An entity type that doesn&#8217;t retain explicit references to its properties.  The properties can still be accessed via their assigned tags.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">UserProfile</span> <span class="directive">extends</span> <span class="predefined-type">Entity</span> {
   <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> EntityType TYPE = <span class="keyword">new</span> EntityType(){{
       string(tags(Thing.name));
       string(tags(Thing.description));
   }};
   {
       setEntityType(TYPE);
   }
}</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<h3 id="views">Views</h3>
<p>The "View" is the piece of the MVC pie that we are most interested in sharing and reusing.  A View is simply a <a href="https://www.codenameone.com/javadoc/com/codename1/ui/Component.html?is-external=true" title="class or interface in com.codename1.ui"><code>Component</code></a> that includes support to "bind" to a view model (an <a href="com/codename1/rad/models/Entity.html" title="class in com.codename1.rad.models"><code>Entity</code></a>), such that when properties on the view model are changed, the "View" updates to reflect the change.  The <a href="com/codename1/rad/ui/entityviews/package-summary.html"><code>com.codename1.rad.ui.entityviews</code></a> package includes a set of read-developed view classes.  The best current example of a CodeRAD view is the <a href="https://github.com/shannah/RADChatRoom">RADChatRoom, window=_top</a>'s <code>ChatRoomView</code> component.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Creating view classes is more complex than creating models or controllers because they require a deeper understanding of both Codeame One concepts, and CodeRAD concepts.  The goal of this project is to provide a comprehensive set of quality views that can be reused so that developers don&#8217;t need to create their own views very often.  They can focus on their application&#8217;s control flow and business logic (i.e. models and controllers).
</td>
</tr>
</table>
</div>
<p>View constructors will typically take two parameters:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>The view model</strong> - an <a href="com/codename1/rad/models/Entity.html" title="class in com.codename1.rad.models"><code>Entity</code></a> object that is used for the view&#8217;s contents.</p>
</li>
<li>
<p><strong>A view node</strong> - a <code>com.codename1.rad.ui.Node</code> object, which is part of a view descriptor hierarchy, and can provide additional settings for the view, such as actions to be rendered in the view as buttons or menus, factories to be used for generating parts of the view, simple properties, and virtually any other customizations the view wants to respond to.  You can think of the view node as a sort of "Schema" for the view.</p>
</li>
</ol>
</div>
<p>Most views will extend from one of the following base classes:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong><a href="com/codename1/rad/ui/AbstractEntityView.html" title="class in com.codename1.rad.ui"><code>AbstractEntityView</code></a></strong> - Provides a minimal framework for binding to property change events on an <a href="com/codename1/rad/models/Entity.html" title="class in com.codename1.rad.models"><code>Entity</code></a>.  Extend this class when your view model is a scalar entity.</p>
</li>
<li>
<p><strong><a href="com/codename1/rad/ui/entityviews/EntityListView.html" title="class in com.codename1.rad.ui.entityviews"><code>EntityListView</code></a></strong> - Provides a minimal framework for list entities.  The view model is expected to be a <a href="com/codename1/rad/models/EntityList.html" title="class in com.codename1.rad.models"><code>EntityList</code></a> or subclass thereof.  It will bind to the lists add and remove events to automatically add or remove rows from the view when corresponding elements are added or removed from the model.  It will accept a <code>listRenderer</code> attribute, which allows you to provide a  <a href="com/codename1/rad/ui/EntityListCellRenderer.html" title="interface in com.codename1.rad.ui"><code>EntityListCellRenderer</code></a> for rendering the list&#8217;s rows.  This makes the <code>EntityListView</code> class quite versatile, as it can be made to behave completely differently by simply providing a different row renderer.  The <code>ChatRoomView</code> class uses this class internall to render the chat bubbles.</p>
</li>
<li>
<p><strong><a href="com/codename1/rad/ui/EntityEditor.html" title="class in com.codename1.rad.ui"><code>EntityEditor</code></a></strong> - Used to render custom forms (e.g. with input fields) for editing data on an entity.  Usually this isn&#8217;t subclassed, it is used directly and customized using a UI descriptor (e.g. a View node).</p>
</li>
</ol>
</div>
<h4 id="no-application-or-business-logic-allowed">NO Application or Business Logic Allowed</h4>
<p>In order to get the benefits of MVC, you shouldn&#8217;t put any program login inside the view, outside of logic required to make the view function as a view.  If you&#8217;re used to calling <code>addActionListener()</code> directly on your buttons inside your view, thing may take some getting used to.  It requires some discipline.</p>
<p><strong>Use Actions</strong></p>
<p>Rather than embed logic directly inside the view, you should use actions to propagate relevant events up to the controller.  The <code>ChatRoomView</code>, for example, needs to let the controller know when the user has clicked the "Send" button in the chat room so that it can process the user input. In order to facilitate this, it defines an action category named <code>SEND_ACTION</code>, which the controller can use to register its own sent action to process such events.  When a user clicks the "Send" button of the view, the view checks to see if there is an action registered in this catgory, and, if so, it will fire the action.</p>
<div class="listingblock">
<div class="title">Action definition in the controller</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> ActionNode send = action(
   icon(FontImage.MATERIAL_SEND),
   <span class="comment">// ... The rest of the action definition</span>
);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Assign <code>send</code> action to the <code>SEND_ACTION</code> category and pass it to the view&#8217;s constructor in its View node.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ViewNode viewNode = <span class="keyword">new</span> ViewNode(
   actions(ChatRoomView.SEND_ACTION, send),
   <span class="comment">//.. rest of ViewNode definition</span>
);
ChatRoomView view = <span class="keyword">new</span> ChatRoomView(createViewModel(), viewNode, theForm);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Inside the View, when an event occurs (like user presses "send" button), it retrieves the <code>send</code> action that was passed to it by the controller.  If found, it fires the action&#8217;s event with the provided context.  This event will propagate up the view hierarchy, and the controller hierarchy so that the controller will be able to process the event.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ActionNode send = node.getAction(SEND_ACTION);
<span class="keyword">if</span> (send != <span class="predefined-constant">null</span>) {
   send.fireEvent(entity, <span class="local-variable">this</span>);
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<p>You can even make this easier by converting the event to a Button and adding it to the view.  E.g.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (send != <span class="predefined-constant">null</span>) {
   addComponent(send.createView(getEntity());
}</code></pre>
</div>
</div>
<p>The <code>ActionNode.createView(Entity)</code> method will generate a UI component appropriate for the action.  In most cases this will be a button, but it may be a toggle button is the action is selectable.  This button will automatically fire the action&#8217;s event when the user presses it.</p>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">In the controller, we add an action listener for the "send" action to process these events</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addActionListener(send, evt-&gt;{
   evt.consume();
   <span class="comment">// .. process the event</span>

});</code></pre>
</div>
</div>
<h3 id="controllers-and-actions">Controllers and Actions</h3>
<p>We touched on controllers and actions in the previous section on views, but they merit their own section since they are core concepts in CodeRAD.  Controllers serve two functions in CodeRAD:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Separation of Concerns</strong> - Controllers handle all of the "application logic" as it pertains to the user&#8217;s interaction with the app.  Keeping application logic separate from the view and the model has many advantages, including, but not limited to, easier code reuse.</p>
</li>
<li>
<p><strong>Application Structure &amp; Control Flow</strong> - Controllers provide hierarchical structure for applications in a similar way that Components provide hierarchical structure for user interfaces.  While it possible to use CodeRAD components in isolation, (without a controller hierarchy), you would be missing out on some of CodeRAD&#8217;s best features.</p>
</li>
</ol>
</div>
<h4 id="the-navigation-hierarchy">The "Navigation Hierarchy"</h4>
<p>It is useful to think of your app&#8217;s controllers through the lense of a "navigation hierarchy".  The "root" node of this navigation hierarchy is the <code>ApplicationController</code>.  To show the first form in our app, we create a <code>FormController</code>, which can be views as a "Child controller" of the application controller.  If the user clicks a button that takes them to a new form, we create a new <code>FormController</code>, which is a child of the previous form controller.</p>
<p>CodeRAD&#8217;s <code>FormController</code> class includes built-in logic for "back" navigation.  If the <code>FormController&#8217;s parent controller is, itself, a `FormController</code>, then it will provide a "Back" button (and link up the Android "back" action) to return to the parent controller&#8217;s form.</p>
<p>Typical code for creating a FormController is:</p>
<div class="listingblock">
<div class="title">Typical code to create and show a FormController. This code is assumed to be in another FormController, so <code>this</code> refers to the current controller, passing it as the first parameter sets it as the `detailsController&#8217;s parent.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">DetailsFormController detailsController = <span class="keyword">new</span> DetailsFormController(<span class="local-variable">this</span>, model);
detailsController.getView().show();</code></pre>
</div>
</div>
<h4 id="event-propagation">Event Propagation</h4>
<p>The hierarchical view of controllers is also useful for understanding event dispatch.  When a <code>ControllerEvent</code> is fired on a UI component, it will propagate up the UI hierarchy (i.e. <a href="https://www.codenameone.com/javadoc/com/codename1/ui/Component.html?is-external=true" title="class or interface in com.codename1.ui"><code>Component</code></a> &#8594; parent ..parent&#8230;&#8203;) until it finds a component with a <code>ViewController</code>.  The event will then be dispatched up the controller hierarchy until it is consumed.</p>
<p>For example, suppose, in our application, we have the following controller hierarchy:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Root Controller</strong> - The ApplicationController</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>ContactListController</strong> - The main form of the app: A contact list.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>ContactDetailsController</strong> - The user clicked on a contact in the list, so they navigated to the "Details" form for that contact.  Thus the <code>ContactDetailsController</code> is a "child" of the <code>ContactListController</code>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<p>The following diagram depicts this hierarchy.  Suppose that there is a button on the contact details form, that the user clicks to initiate an action event.  Then the event will propagate up the UI hierarchy until it finds a component with a ViewController.  In this case, the "Detail" form is the first component with a ViewController: The <code>ContactDetailsController</code>.   If the <code>ContactDetailsController</code> contains a handler for the action that was fired, then it will process the event.  If the event is still not consumed, it will propagate up to the parent (the <code>ContactListController</code>), and give it an opportunity to handle the event.  If it is still not consumed, it will propagate up to the root controller (the <code>ApplicationController</code>).</p>
<div class="imageblock">
<div class="content">
<img src="doc-files/ControllerEventPropagation.png" alt="ControllerEventPropagation">
</div>
<div class="title">Figure 3. This image depicts the propagation of an action event up the UI hierarchy and then the controller hierarchy.</div>
</div>
<p>The fact that action events propagate up through the controller hierarchy gives you flexibility on where you want to place your application logic for processing events.  This is very handy in cases where you want to handle the same action in two different controllers.</p>
<p>For example, suppose you have a "phone" action that allows you to phone a contact.  The <code>ContactListController</code> may support direct dialing of a contact in the list.  Additionally, you probably have a "Phone" button on the contact details form.  Since the <code>ContactDetailsController</code> is a "child" controller of the <code>ContactListController</code>, you can handle the action once inside the <code>ContactListController</code>, rather than duplicating code on both the list and details controllers.</p>
<h4 id="a-simple-example-controller-hierarchy">A Simple Example Controller Hierarchy</h4>
<p>When I&#8217;m developing a CodeRAD application, I generally replace the contents of the main application class with a sublass of <code>ApplicationController</code>.  E.g. When you create a new CodenameOne project, it will create a main app class that has your lifecycle methods <code>init()</code>, <code>start()</code>, <code>stop()</code>, and <code>destroy()</code>.  <code>ApplicationController</code> implements these methods and converts them into events for cleaner code.</p>
<p>The following snippet is taken from the main application class of the CN1Chat example app.</p>
<div class="listingblock">
<div class="title">ApplicationController for the CN1Chat app.  It overrides <code>actionPerformed()</code> to handle the <code>StartEvent</code> (which is fired when the app starts up).  It simply creates a new <code>FormController</code>, and shows its view.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.codename1.cn1chat</span>;


<span class="keyword">import</span> <span class="include">com.codename1.rad.controllers.ApplicationController</span>;
<span class="keyword">import</span> <span class="include">com.codename1.rad.controllers.ControllerEvent</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">CN1Chat</span> <span class="directive">extends</span> ApplicationController {
    <span class="annotation">@Override</span>
   <span class="directive">public</span> <span class="type">void</span> actionPerformed(ControllerEvent evt) {
       <span class="keyword">if</span> (evt <span class="keyword">instanceof</span> StartEvent) {
           evt.consume();
           <span class="keyword">new</span> ChatFormController(<span class="local-variable">this</span>).getView().show();
       }
   }

}</code></pre>
</div>
</div>
<p>The <code>ChatFormController</code> displays the chat room view:</p>
<div class="listingblock">
<div class="title">Excerpts from <code>ChatFormController</code>.  Defines a single action <code>send</code>, and adds it to the view.  Also handles the events when the <code>send</code> action is "fired".   See <a href="https://shannah.github.io/RADChatApp/getting-started-tutorial.html">this tutorial</a> for a more comprehensive treatment of this material.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ChatFormController</span> <span class="directive">extends</span> FormController {
   <span class="comment">// Define the &quot;SEND&quot; action for the chat room</span>
   <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> ActionNode send = action( <b class="conum">(1)</b>
       enabledCondition(entity-&gt; {
           <span class="keyword">return</span> !entity.isEmpty(ChatRoom.inputBuffer);
       }),
       icon(FontImage.MATERIAL_SEND)
   );

   <span class="comment">//... More action definitions</span>

   <span class="directive">public</span> ChatFormController(Controller parent) {
       <span class="local-variable">super</span>(parent); <b class="conum">(2)</b>
       Form f = <span class="keyword">new</span> Form(<span class="string"><span class="delimiter">&quot;</span><span class="content">My First Chat Room</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">BorderLayout</span>());

       <span class="comment">// Create a &quot;view node&quot; as a UI descriptor for the chat room.</span>
       <span class="comment">// This allows us to customize and extend the chat room.</span>
       ViewNode viewNode = <span class="keyword">new</span> ViewNode(
           actions(ChatRoomView.SEND_ACTION, send), <b class="conum">(3)</b>
           <span class="comment">// ... more action definitions</span>
       );

       <span class="comment">// Add the viewNode as the 2nd parameter</span>
       ChatRoomView view = <span class="keyword">new</span> ChatRoomView(createViewModel(), viewNode, f); <b class="conum">(4)</b>
       f.add(CENTER, view);
       setView(f);

       <span class="comment">// Handle the send action</span>
       addActionListener(send, evt-&gt;{ <b class="conum">(5)</b>
           evt.consume();
           <span class="comment">//.. code to handle the send action.</span>

       });
   }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Define an action.</p>
</li>
<li>
<p>Call <code>super(parent)</code> to register the given controller as its parent controller, so that unhandled events will propagate to it.</p>
</li>
<li>
<p>Assign <code>send</code> action to the <code>SEND_ACTION</code> category (requirement of the <code>ChatRoomView</code> component). The <code>ChatRoomView</code> will check this category for the presense of an action.  If none is found, it simply won&#8217;t include a send button in the UI, nor will it fire "send" events.</p>
</li>
<li>
<p>Create a new <code>ChatRoomView</code>, passing it a dummy view model, and the <code>viewNode</code> that includes our action.</p>
</li>
<li>
<p>Register a handler for the "send" action.  Notice that we could have registered this handler in the parent controller instead (i.e. the ApplicationController) because unhandled events would propagate up.  In this case, it makes more sense as a part of the ChatFormController though.</p>
</li>
</ol>
</div>
<h3 id="ui-descriptors-nodes-and-attributes">UI Descriptors (Nodes and Attributes)</h3>
<p>A UI descriptor is a Tree structure consisting of Nodes and Attributes that describes a user interface in a way that is useful for building views.  The main advancement provided by UI descriptors is the ability to define user interfaces declaratively, <strong>in java</strong>.   The primary use-case for UI descriptors is for building editable forms.  The <code>EntityEditor</code> class is a View that renders complex forms for editing the properties of an entity.  It uses UI descriptors to specify which properties to include in the form, what widgets to use, how the form should be laid out, etc&#8230;&#8203;</p>
<p>The following is an example of a UI descriptor for editing a "Person" entity.</p>
<div class="listingblock">
<div class="title">A UI descriptor for a form to edit a "Person" entity</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.codename1.demos.ddddemo</span>;

<span class="keyword">import</span> <span class="include">com.codename1.rad.ui.UI</span>;
<span class="keyword">import</span> <span class="include">com.codename1.rad.nodes.ActionNode</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">com.codename1.demos.ddddemo.PersonEntityType</span>.*;
<span class="keyword">import</span> <span class="include">com.codename1.ui.FontImage</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">com.codename1.ui.FontImage.MATERIAL_DELETE</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">com.codename1.rad.nodes.FormNode.OVERFLOW_MENU</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">com.codename1.rad.nodes.FormNode.BOTTOM_RIGHT_MENU</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">com.codename1.rad.nodes.FormNode.TOP_LEFT_MENU</span>;


<span class="directive">public</span> <span class="type">class</span> <span class="class">PersonEditor</span> <span class="directive">extends</span> UI {

   <span class="comment">// Define some actions</span>
   <span class="directive">public</span> <span class="directive">static</span> ActionNode
       deleteAction = action(
           label(<span class="string"><span class="delimiter">&quot;</span><span class="content">Delete</span><span class="delimiter">&quot;</span></span>),
           description(<span class="string"><span class="delimiter">&quot;</span><span class="content">Delete this user</span><span class="delimiter">&quot;</span></span>),
           icon(MATERIAL_DELETE)
       ),
       showContactsAction = action(
           label(<span class="string"><span class="delimiter">&quot;</span><span class="content">Open Contacts</span><span class="delimiter">&quot;</span></span>),
           description(<span class="string"><span class="delimiter">&quot;</span><span class="content">Show all contacts</span><span class="delimiter">&quot;</span></span>),
           icon(FontImage.MATERIAL_CONTACTS)
       ),
       printAction = action(
           label(<span class="string"><span class="delimiter">&quot;</span><span class="content">Print</span><span class="delimiter">&quot;</span></span>),
           description(<span class="string"><span class="delimiter">&quot;</span><span class="content">Print this page</span><span class="delimiter">&quot;</span></span>),
           icon(FontImage.MATERIAL_PRINT)
       );

   {


       <span class="comment">// Define the root form.</span>
       form(
           actions(OVERFLOW_MENU, deleteAction, printAction),  <b class="conum">(1)</b>
           actions(TOP_LEFT_MENU, deleteAction, printAction, showContactsAction), <b class="conum">(2)</b>
           actions(BOTTOM_RIGHT_MENU, deleteAction, printAction), <b class="conum">(3)</b>
           editable(<span class="predefined-constant">true</span>),
           description(<span class="string"><span class="delimiter">&quot;</span><span class="content">Please edit the person's information in the fields below</span><span class="delimiter">&quot;</span></span>),
           label(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person Details</span><span class="delimiter">&quot;</span></span>),
           columns(<span class="integer">2</span>),
           textField(
               label(<span class="string"><span class="delimiter">&quot;</span><span class="content">Name</span><span class="delimiter">&quot;</span></span>),
               description(<span class="string"><span class="delimiter">&quot;</span><span class="content">Please enter your name</span><span class="delimiter">&quot;</span></span>),
               tags(Person.name)
           ),
           textField(
               tags(description)
           ),
           comboBox(
               tags(DemoTags.hairColor)
           ),
           section(
               actions(TOP_LEFT_MENU, deleteAction, printAction),
               columns(<span class="integer">1</span>),
               label(<span class="string"><span class="delimiter">&quot;</span><span class="content">Section 2</span><span class="delimiter">&quot;</span></span>),
               textArea(
                   tags(DemoTags.userProfile)
               ),
               table(actions(OVERFLOW_MENU, deleteAction, printAction),
                  label(<span class="string"><span class="delimiter">&quot;</span><span class="content">Quick Links</span><span class="delimiter">&quot;</span></span>),
                  description(<span class="string"><span class="delimiter">&quot;</span><span class="content">Useful links related to this person</span><span class="delimiter">&quot;</span></span>),
                  editable(<span class="predefined-constant">true</span>),
                  <span class="comment">//property(quicklinks),</span>
                  tags(com.codename1.rad.schemas.Person.url),
                  columns(<span class="keyword">new</span> QuickLinkEditor().getAllFields())
               )
           )

       );

}}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>We add an overflow menu to the form.</p>
</li>
<li>
<p>Add some actions to the top-left menu.</p>
</li>
<li>
<p>Add some actions to the bottom-right menu.</p>
</li>
</ol>
</div>
<p>Notice how succinct, yet readable this code is.  We can convert this into an actual view with the following:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">new</span> EntityEditor(entity, <span class="keyword">new</span> PersonEditor());</code></pre>
</div>
</div>
<p>And the result:</p>
<div class="imageblock">
<div class="content">
<img src="doc-files/EntityEditor.png" alt="EntityEditor">
</div>
<div class="title">Figure 4. The UI generated from the above UI descriptor.  All fields are bound to the entity, so changes to the entity will instantly update the UI, and vice-versa.</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<p>The <code>EntityEditor</code> class is still under active development.  It will be undergoing a lot of changes to add support for more widgets, better styles, and validation.  The API may change.</p>
</td>
</tr>
</table>
</div>
</div></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2021. All Rights Reserved.</small></p>
</body>
</html>
